## Правила и регламент

- [Правила, рекомендации и порядок проведения](https://github.com/hexlet-college-students/exam-rules)

## Задание

Ваша задача — реализовать интерактивный список пользователей, используя JavaScript и работу с DOM.

### Примечания

1. В `<body>` файла `index.html` уже присутствует базовая разметка:

```html
<h1>Список пользователей</h1>

<input id="user-name" placeholder="Имя пользователя" />
<button id="add-user">Добавить</button>

<ul id="user-list"></ul>

<button id="filter-all">Все пользователи</button>
<button id="filter-selected">Выделенные</button>
```

## 1 задача

Реализуйте в `index.js` обработчики для:

- добавления нового пользователя,
- удаления пользователя,
- редактирования имени,
- выделения пользователя кликом,
- фильтрации списка (все / только выделенные).

## 2 задача

В `index.js` реализуйте функции:

- `addUser(name)`,
- `removeUser(id)`,
- `editUser(id, newName)`,
- `toggleSelect(id)`, -`filterUsers(mode)`
  так, чтобы они использовали стандартные DOM-методы (`createElement`, `append`, `remove`, `classList`, `dataset` и т.д.).

## 3 задача

Добавьте подсказку «Список пуст», отображаемую когда в списке нет элементов.

Ниже — дополнительные подсказки и примеры, которые помогут быстрее довести решение до рабочего состояния.

Примеры ожидаемого поведения и подсказки по реализации

- Базовая разметка страницы уже есть в `index.html`. Используйте селекторы по `id` чтобы получить элементы:

  - `#user-name` — поле ввода имени
  - `#add-user` — кнопка добавления
  - `#user-list` — контейнер `<ul>` для элементов списка
  - `#filter-all` / `#filter-selected` — кнопки фильтрации

- Функции, которые полезно реализовать (подписи в проекте):

  - `addUser(name)` — создаёт элемент списка и добавляет в `#user-list`;
  - `removeUser(id)` — удаляет элемент по `data-id`;
  - `editUser(id, newName)` — изменяет имя пользователя;
  - `toggleSelect(id)` — переключает выделение (класс `selected`) у пользователя;
  - `filterUsers(mode)` — показывает все элементы или только выделенные.

- Пример структуры элемента списка:

```html
<li class="user-item" data-id="...">
  <div class="user-left">
    <span class="user-name">Имя</span>
  </div>
  <div class="user-actions">
    <button type="button" class="btn-edit">Редактировать</button>
    <button type="button" class="btn-delete">Удалить</button>
  </div>
</li>
```

- Полезные DOM-методы и поведение:

  - Создавайте элементы через `document.createElement` и добавляйте в DOM через `append`;
  - Присваивайте уникальный идентификатор через `li.dataset.id = id` (используйте самодельный генератор id — например `Date.now()` + счётчик);
  - Для выделения используйте `element.classList.toggle('selected')`;
  - Для удаления — `element.remove()`;
  - Для редактирования имени можно включать режим редактирования через `element.contentEditable = 'true'` и завершать редактирование по `blur` или по нажатию `Enter`. Не забудьте обработать `Escape` — откатить изменения и выключить редактирование;
  - При обработке кликов на элементе списка, предотвращайте срабатывание выделения при кликах по кнопкам (используйте `event.stopPropagation()` или проверку `event.target.closest('button')`).

- Подсказка «Список пуст»:

  - Когда внутри `#user-list` нет детей, вставьте элемент подсказки (например, `<p class="empty-hint">Список пуст. Добавьте первого пользователя.</p>`) рядом с `#user-list`;
  - Удаляйте подсказку, как только появился хотя бы один пользователь.

- Фильтрация:

  - Кнопка «Выделенные» должна скрывать все элементы у которых нет класса `selected` (например через `el.style.display = 'none'`);
  - Кнопка «Все пользователи» должна показывать все элементы (сбрасывать `style.display`);

- Доступность и клавиатура:

  - Разрешите добавление через нажатие `Enter` в поле ввода (обработчик `keydown`);
  - При редактировании поддержите `Enter` для подтверждения и `Escape` для отмены;

Тесты и отладка

- В проекте есть тесты, которые используют JSDOM и Node test runner. Запускайте их командой `npm test`.
- Тесты создают изоляцию так, что каждый сценарий работает с чистым DOM; проверяйте, что ваши обработчики корректно работают при многократном создании новых элементов.

Советы по отладке

- Используйте `console.log` внутри обработчиков чтобы убедиться, какие элементы и события обрабатываются.
- Проверяйте `dataset` и `classList` в DevTools — это помогает быстро увидеть, почему элемент не удаляется или не фильтруется.
